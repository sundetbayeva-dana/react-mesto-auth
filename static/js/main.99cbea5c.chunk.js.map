{"version":3,"sources":["utils/Auth.js","images/Vector.svg","contexts/CurrentUserContext.js","components/Card.js","images/logo.svg","components/Header.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PageWithForm.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","checkResponse","res","ok","json","Promise","reject","statusText","CurrentUserContext","React","createContext","Card","cardId","url","text","owner","likes","onCardLike","onCardClick","onCardDelete","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","className","type","onClick","src","alt","length","Header","linkText","link","onSignOut","userEmail","logo","to","Footer","Main","onEditProfile","onAddPlace","onEditAvatar","cards","icon","avatar","name","about","map","card","PopupWithForm","title","children","isOpen","onClose","buttonText","onSubmit","popupOpened","ImagePopup","api","config","_handleResponse","status","this","_url","_authorization","authorization","fetch","method","headers","then","data","body","JSON","stringify","id","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setText","setLink","PageWithForm","heading","info","infoLink","Login","onLogin","email","password","setData","Register","onRegister","InfoTooltip","ProtectedRoute","Component","component","props","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","pic","popupStatus","setPopupStatus","setCards","setUserEmail","setLoggedIn","history","useHistory","closeAllPopups","getUserInformation","catch","err","console","log","getCards","push","token","localStorage","getItem","auth","tokenCheck","Provider","path","setItem","error","removeLikeOnCard","dislikedCard","state","c","setLikeOnCard","likedCard","deleteCard","filter","d","removeItem","userInfo","setUserInfo","setUserAvatar","addCards","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99cbea5c.chunk.js","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (res) => {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка ${res.statusText}`)\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, email})\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, email})\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(checkResponse)    \r\n}","export default __webpack_public_path__ + \"static/media/Vector.ae1a976d.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\n\r\nfunction Card({cardId, url, text, owner, likes, onCardLike, onCardClick, onCardDelete}) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `button button_type_delete ${isOwn ? 'element_visible' : ''}`\r\n    );\r\n    \r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n        `button button_type_like ${isLiked ? 'button_type_like-active' : ''}`\r\n    )\r\n\r\n    function handleLikeClick() {\r\n        onCardLike({likes, cardId})\r\n    }\r\n\r\n\r\n    function handleClick() {\r\n        onCardClick({url, text})\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete({cardId})\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button aria-label=\"Кнопка удалить\" className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}>\r\n            </button>\r\n            <img src={url} className=\"card__pic\" alt={text} onClick={handleClick} />\r\n            <div className=\"card__text\">\r\n                <h2 className=\"card__name\">{text}</h2>\r\n                <div className=\"card__like\">\r\n                    <button aria-label=\"Кнопка нравится\" className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}>\r\n                    </button>\r\n                    <p className=\"card__like-count\">{likes.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from './../images/logo.svg';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Header({linkText, link, onSignOut, userEmail}) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n            <nav className=\"navbar\">\r\n            <p className=\"navbar__email\">\r\n                {userEmail}\r\n            </p>\r\n            <ul className=\"navbar__nav\">\r\n                <li>\r\n                    <NavLink to={link} className=\"navbar__link\" onClick={onSignOut} >{linkText}</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>       \r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport icon from './../images/Vector.svg';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\nimport Header from './Header';\r\nimport Footer from './Footer'\r\n\r\n\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete, onSignOut, userEmail }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <main>\r\n            <Header  linkText=\"Выйти\" link=\"sign-in\" onSignOut={onSignOut} userEmail={userEmail}/>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img src={icon} alt=\"Изменить аватар пользователя\" className=\"profile__icon-edit\" />                \r\n                    <img src={currentUser.avatar} alt=\"Аватарка пользователя\" className=\"profile__avatar\" onClick={onEditAvatar} />\r\n                    \r\n                    \r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__info-name-cont\">\r\n                        <h1 className=\"profile__info-name\">{currentUser.name}</h1>\r\n                        <button aria-label=\"Кнопка изменить профиль\" className=\"button button_type_edit\" type=\"button\" onClick={onEditProfile}>\r\n                        </button>\r\n                    </div>\r\n                    <p className=\"profile__info-activity\">{currentUser.about}</p>\r\n                </div>\r\n                <button aria-label=\"Кнопка добавить\" className=\"button button_type_add\" type=\"button\" onClick={onAddPlace}>\r\n                </button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {cards.map((card) => {\r\n                        return (\r\n                            <Card\r\n                            key={card._id}\r\n                            cardId={card._id}\r\n                            url={card.link}\r\n                            text={card.name}\r\n                            owner={card.owner}\r\n                            likes={card.likes}\r\n                            onCardLike={onCardLike}\r\n                            onCardClick={onCardClick}\r\n                            onCardDelete={onCardDelete}                           \r\n                            />\r\n                        )                   \r\n                    })}\r\n                </ul>                \r\n            </section>\r\n            <Footer />\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm({name, title, children, isOpen, onClose, buttonText, onSubmit}) {\r\n    const popupOpened=`${isOpen && 'element_visible'}`\r\n    return (\r\n        <div className={`popup popup-${name} ${popupOpened}`}>            \r\n            <div className=\"popup__overlay\" onClick={onClose}></div>\r\n            <div className=\"popup__content\">\r\n                <button aria-label=\"Кнопка закрыть\" className=\"button button_type_close\" type=\"button\" onClick={onClose}>\r\n                </button>\r\n                \r\n                <h2 className=\"popup__title\">{`${title}`}</h2>\r\n                <form className=\"popup__form\" name={`${name}`} onSubmit={onSubmit}>                    \r\n                    {children}\r\n                    <button className=\"button button_type_save\" type=\"submit\" >\r\n                    {buttonText}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n    const popupOpened=`${card.url && 'element_visible'}`\r\n    return (\r\n        <div className={`popup popup-card ${popupOpened}`}>\r\n            <div className=\"popup__overlay\" onClick={onClose}></div>\r\n            <div className=\"popup-card__content\">\r\n                <button aria-label=\"Кнопка закрыть\" className=\"button button_type_close\" type=\"button\" onClick={onClose} >\r\n                </button>\r\n                <img className=\"popup-card__pic\" alt={card.text} src={card.url} />\r\n\r\n                <p className=\"popup-card__picname\">{card.text}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._authorization = config.authorization;\r\n  }  \r\n\r\n  _handleResponse = (res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      }     \r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET', \r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH', \r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      }) \r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n \r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH', \r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({          \r\n        name: data.name,\r\n        about: data.about,  \r\n      })      \r\n    })\r\n    .then(this._handleResponse)     \r\n  }\r\n\r\n  setLikeOnCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n\r\n  removeLikeOnCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE', \r\n      headers: {\r\n        authorization: this._authorization,\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }  \r\n\r\n  addCards(text, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: text,\r\n        link: link})  \r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._handleResponse)    \r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n  authorization: 'a3d0e919-8de7-4208-b834-e803f8c056f2'\r\n})\r\n\r\nexport default api;","import React, {useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name)\r\n        setDescription(currentUser.about)\r\n    }, [currentUser]); \r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (        \r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\"  isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n                                \r\n            <input placeholder=\"Имя\" className=\"popup__form-text\" name=\"name\" id=\"name-profile\" value={name || ''} onChange={handleNameChange} required />\r\n            <span className=\"name-profile-error popup__form-text-error_active\"></span>\r\n            <input placeholder=\"Занятие\" className=\"popup__form-text\" name=\"about\" id=\"description-profile\" value={description  || ''}  onChange={handleDescriptionChange} required />\r\n            <span className=\"description-profile-error popup__form-text-error_active\"></span>       \r\n        </PopupWithForm>\r\n    )   \r\n\r\n}\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = React.useRef()\r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();  \r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,      \r\n    });    \r\n  } \r\n  \r\n  return (\r\n    <PopupWithForm name=\"avatar-change\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">                     \r\n      <input placeholder=\"Ссылка на картинку\" className=\"popup__form-text\" name=\"link\" id=\"link-avatar-picture\" ref={avatarRef}  required />\r\n      <span className=\"link-avatar-picture-error\"></span>\r\n    </PopupWithForm>\r\n  )  \r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n    const [text, setText] = React.useState('');\r\n    const [link, setLink] = React.useState('')\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();  \r\n        onAddPlace({\r\n            text,\r\n            link\r\n        });    \r\n    } \r\n\r\n    function handleNameChange(e) {\r\n        setText(e.target.value)\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n  return (\r\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n                                \r\n        <input placeholder=\"Название\" className=\"popup__form-text\" name=\"name\" id=\"name-place\" onChange={handleNameChange} required />\r\n        <span className=\"name-place-error\"></span>\r\n        <input placeholder=\"Ссылка на картинку\" className=\"popup__form-text\" name=\"link\" id=\"link-place\" onChange={handleLinkChange} required />\r\n        <span className=\"link-place-error\"></span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction PageWithForm({heading, buttonText, info, onChange, infoLink, onSubmit}) {\r\n  return (\r\n    <div className=\"page-with-form__container\">\r\n        <h1 className=\"page-with-form__heading\">{heading}</h1> \r\n        <form className=\"page-with-form__form\" onSubmit={onSubmit}>                          \r\n            <input placeholder=\"E-mail\" className=\"page-with-form__form-text\" name=\"email\" id=\"email\" onChange={onChange}  required />\r\n            <span className=\"name-place-error\"></span>\r\n            <input placeholder=\"Пароль\" className=\"page-with-form__form-text\" name=\"password\" id=\"password\" type=\"password\" onChange={onChange} required />\r\n            <span className=\"link-place-error\"></span>\r\n            <button className=\"button button_type_auth\" type=\"submit\" >\r\n            {buttonText}\r\n            </button>\r\n            <div className=\"page-with-form__info-cont\">\r\n              <p className=\"page-with-form__info-text\">{info}</p>\r\n              <Link to=\"/sign-in\" className=\"page-with-form__info-text-link\">{infoLink}</Link>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageWithForm;","import React from 'react';\r\nimport PageWithForm from './PageWithForm';\r\nimport Header from './Header'\r\n\r\nfunction Login({onLogin}) {\r\n\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n \r\n    function handleChange(e) {\r\n        const {name, value} = e.target\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (!data.email || !data.password) {\r\n            return\r\n        }\r\n        const {password, email} = data\r\n        onLogin(password, email)\r\n    }    \r\n    \r\n    return (\r\n    <>\r\n        <Header linkText=\"Регистрация\" link=\"/sign-up\" />\r\n        <PageWithForm heading=\"Вход\" buttonText=\"Войти\" onChange={handleChange} onSubmit={handleSubmit}>\r\n        </PageWithForm>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react';\r\nimport PageWithForm from './PageWithForm';\r\nimport Header from './Header';\r\n\r\nfunction Register({onRegister}) {\r\n\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const {password, email} = data\r\n        onRegister(password, email)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header linkText=\"Войти\" link=\"sign-in\" />\r\n        <PageWithForm heading=\"Регистрация\" buttonText=\"Зарегистрироваться\" info=\"Уже зарегистрированы? \" infoLink=\" Войти\" onChange={handleChange}  onSubmit={handleSubmit} >\r\n            \r\n        </PageWithForm>\r\n        </> \r\n    )\r\n}\r\n\r\nexport default Register","import React from 'react';\r\n\r\nfunction InfoTooltip({isOpen, onClose, text, status}) {\r\n    const popupOpened=`${isOpen && 'element_visible'}`\r\n    return (\r\n        <div className={`popup popup-status ${popupOpened}`}>\r\n            <div className=\"popup__overlay\" onClick={onClose}></div>\r\n            <div className=\"popup__content\">\r\n                <button aria-label=\"Кнопка закрыть\" className=\"button button_type_close\" type=\"button\" onClick={onClose} >\r\n                </button>\r\n                <div className={status}></div>\r\n                <p className=\"status__text\">{text}</p>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />        \r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React, {useEffect} from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport * as auth from './../utils/Auth';\r\nimport Main from './Main';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/Api';\r\nimport {CurrentUserContext} from './../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\nimport Login from './Login'\r\nimport Register from './Register'\r\nimport InfoTooltip from './InfoTooltip'\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nfunction App() {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]= React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState({})\r\n    const [currentUser, setCurrentUser] = React.useState({})\r\n    const [popupStatus, setPopupStatus] = React.useState({\r\n        isOpen: false,\r\n        text: '',\r\n        pic: '',\r\n    })\r\n    const [cards, setCards] = React.useState([])\r\n    const [userEmail, setUserEmail] = React.useState('')\r\n    const [loggedIn, setLoggedIn] = React.useState(false)\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        api.getUserInformation()\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .catch((err) => {\r\n            console.log(err)\r\n        }) \r\n    }, [])    \r\n\r\n    useEffect(() => {\r\n        api.getCards()\r\n        .then(cards => setCards(cards))\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })       \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (loggedIn === true) {\r\n            history.push('/')\r\n        }\r\n    }, [loggedIn])\r\n\r\n    useEffect(() => {\r\n        tokenCheck();\r\n    }, [])\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true)\r\n    }\r\n  \r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true)\r\n    }\r\n    \r\n    function closeAllPopups() {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setPopupStatus({\r\n            isOpen: false,\r\n            text: '',\r\n            pic: '',})\r\n        setSelectedCard({})\r\n    }\r\n\r\n    function handleCardClick({url, text}) {\r\n        setSelectedCard({url, text})\r\n    }\r\n\r\n    function handleUpdateUser(userInfo) { \r\n        api.setUserInfo(userInfo)\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        }) \r\n        \r\n    }\r\n\r\n    function handleUpdateAvatar(avatar) {\r\n        api.setUserAvatar(avatar)\r\n        .then(currentUser => setCurrentUser(currentUser))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n        \r\n    }\r\n\r\n    function handleCardLike({likes, cardId}) {\r\n        const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n        if (!isLiked) {    \r\n            api.setLikeOnCard(cardId)\r\n            .then((likedCard) => {\r\n                setCards((state) => state.map((c) => c._id === cardId ? likedCard :c))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        } else {\r\n            api.removeLikeOnCard(cardId)\r\n            .then((dislikedCard) => {\r\n                setCards((state) => state.map((c) => c._id === cardId ? dislikedCard :c))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n    function handleCardDelete({cardId}) {\r\n        api.deleteCard(cardId)\r\n        .then(() => {\r\n            setCards((state) => state.filter((d) => d._id !== cardId ?? d))\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function handleAddPlaceSubmit({text, link}) {\r\n        api.addCards(text, link)\r\n        .then((newCard) => setCards([newCard, ...cards]))\r\n        .then(() => {\r\n            closeAllPopups()\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function tokenCheck() {\r\n        const token = localStorage.getItem('token')\r\n        if (token) {\r\n            auth.getContent(token)            \r\n            .then((data) => {\r\n                if (data) {\r\n                    const userEmail = data.data.email\r\n                    setUserEmail(userEmail)\r\n                    setLoggedIn(true)                    \r\n                }\r\n            }) \r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n\r\n    function handleRegister(password, email) {\r\n        auth.register(password, email)\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('token', data.token)\r\n            }\r\n            const userEmail = email\r\n            setUserEmail(userEmail)\r\n            setLoggedIn(true)\r\n            setPopupStatus({\r\n                isOpen: true,\r\n                text: `Вы успешно зарегистрировались!`,\r\n                pic: 'status-pic_success'\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n            setPopupStatus({\r\n                isOpen: true,\r\n                text: `Что-то пошло не так!\r\n                Попробуйте ещё раз`,\r\n                pic: 'status-pic_fail'\r\n            })\r\n        })\r\n    }\r\n\r\n    function handleLogin(password, email) {\r\n        auth.authorize(password, email)\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('token', data.token)\r\n            }\r\n            const userEmail = email\r\n            setUserEmail(userEmail)\r\n            setLoggedIn(true)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n    \r\n    function handleSignOut() {\r\n        localStorage.removeItem('token');\r\n        setLoggedIn(false)\r\n    }\r\n\r\n    return (        \r\n        <div className=\"App\">\r\n            <div className=\"page\">                \r\n                <div className=\"page__container\">\r\n                    <div className=\"page__content\">\r\n                        <CurrentUserContext.Provider value={currentUser}>\r\n                            <Switch>\r\n                                \r\n                                <Route path=\"/sign-up\">\r\n                                    <Register onRegister={handleRegister}/>                                \r\n                                </Route>                            \r\n\r\n                                <Route path=\"/sign-in\">\r\n                                    <Login onLogin={handleLogin} />\r\n                                </Route>\r\n\r\n                                <ProtectedRoute path=\"/\" \r\n                                loggedIn={loggedIn} \r\n                                component={Main}\r\n                                onEditProfile={handleEditProfileClick}                            \r\n                                onAddPlace={handleAddPlaceClick}\r\n                                onEditAvatar={handleEditAvatarClick}\r\n                                onClose={closeAllPopups}\r\n                                onCardClick={handleCardClick}\r\n                                cards={cards}\r\n                                onCardLike={handleCardLike}\r\n                                onCardDelete={handleCardDelete} \r\n                                onSignOut={handleSignOut}\r\n                                userEmail={userEmail} />\r\n                                                      \r\n\r\n                            </Switch>\r\n\r\n                            \r\n\r\n                            <InfoTooltip  />\r\n\r\n                            <InfoTooltip isOpen={popupStatus.isOpen} text={popupStatus.text} status={popupStatus.pic} onClose={closeAllPopups}/>\r\n\r\n                            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} >\r\n                            </EditProfilePopup>\r\n\r\n                            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}></EditAvatarPopup>\r\n\r\n                            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} ></AddPlacePopup>                          \r\n\r\n\r\n                            <PopupWithForm name=\"delete\" title=\"Вы уверены?\" isOpen={''} onClose={closeAllPopups} buttonText=\"Да\">                            \r\n                            </PopupWithForm>\r\n\r\n                            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n\r\n                        </CurrentUserContext.Provider>\r\n\r\n                \r\n                    </div>  \r\n                </div>\r\n            </div>                \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}